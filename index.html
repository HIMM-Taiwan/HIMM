<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è©©æ­Œæœå°‹ | è©©æ­Œæœ¬ç¬¬ä¸€å†Š</title>
</head>
<body>
  <h1>ğŸ“– è©©æ­Œæœ¬ ç¬¬ä¸€å†Š</h1>
  <input type="text" id="searchBox" placeholder="è¼¸å…¥æ­Œåæœå°‹..." />

  <ul id="songList"></ul>
  <audio id="audioPlayer" controls></audio>

  <script>
    // ======== æ­Œåæ¸…å–® ========
    const songsData = [
      "äº¤è¨—",
      "å› ç¥¢è–éˆ æ¦®ä¸ŠåŠ æ¦®",
      "ç¥æŒæ¬Š",
      "æ˜¯ç¥¢è®“æˆ‘æŠ¬èµ·é ­",
      "æˆ‘ä¸»ä½•ç­‰ç¾éº—",
      "ç¥¢çš„å¯¶åº§åœ¨é€™è£¡",
      "æˆ‘è¦çœ‹è¦‹ç¥çš„åœ‹åº¦",
      "è€¶å’Œè¯ä»¥å‹’çš„ç¥",
      "å–œæ¨‚çš„å¿ƒ",
      "å› ç¥¢çš„æ„›",
      "æˆ‘çš„ç¦±å‘Š",
      "æº«æŸ”çš„è–éˆ(å¸å¼•æˆ‘éˆ)",
      "Beautiful",
      "è–éˆ çƒˆç«",
      "ä¸»çš„åæœ‰èƒ½åŠ›",
      "èˆ‡ç¥¢é¢å°é¢",
      "æ˜¯ç¥¢æ€é¸æˆ‘",
      "å …å®šçš„ç´„",
      "ç¥¢çš„æ„›(å¾ä¾†æ²’æœ‰æƒ³é)",
      "æˆ‘æœ‰è€¶ç©Œæ•‘æ©çš„è¨˜è™Ÿ",
      "å¿«æ¨‚æ•¬æ‹œ",
      "å¤§å¤§å–œæ¨‚",
      "èˆˆèµ·å§ ç¥çš„å…’å¥³",
      "æ–°çš„ä¸€å¤©",
      "å°‡æ¦®è€€æ­¸æ–¼(ç¥¢)ç¥",
      "æˆ‘å°Šæ¦®ç¥¢",
      "åœ¨ ç¥å‡¡äº‹éƒ½èƒ½",
      "å¥‡å¦™çš„æ•‘ä¸»",
      "æ²’æœ‰äººå¯ä»¥å¹«åŠ©æˆ‘å€‘",
      "ç¥çš„éˆé‹è¡Œ",
      "æˆ‘å¿ƒå›è½‰å‘ç¥¢",
      "æ±‚å¸å¼•æˆ‘å¿ƒ",
      "å®Œå…¨çš„æ„›",
      "I Believe",
      "æ–°é…’æ–°æ²¹",
      "æˆ‘è¦æ­Œé Œ",
      "ä¸€å¤©ä¸ƒæ¬¡è®šç¾ç¥¢",
      "æœ€é«˜æ¦®è€€",
      "å’Œæ•£é‚£",
      "è¦ªæ„›è–éˆ",
      "å“¦ çŒ¶å¤§çš„ç…å­",
      "ä¸€ä»¶æ–°äº‹",
      "è€¶å’Œè¯ä»¥å‹’",
      "é€²å…¥ç¥çš„ç¦§å¹´",
      "I Love You, Jesus",
      "è–éˆå¦‚çƒˆç«é™è‡¨",
      "ç¥¢çš„åŒåœ¨",
      "Here I am æˆ‘åœ¨é€™è£¡",
      "æˆ‘çš„æ¯ä¸€å¤©",
      "å®Œç¾å¹³å®‰"
    ];

    const songList = document.getElementById("songList");
    const audioPlayer = document.getElementById("audioPlayer");
    let currentPlaying = null;

    // ======== å»ºç«‹æ­Œå–® ========
    function renderSongs() {
      songList.innerHTML = "";
      songsData.forEach(song => {
        const li = document.createElement("li");
        li.setAttribute("data-pdf", song + ".pdf");
        li.setAttribute("data-mp3", song + ".mp3");
        li.innerHTML = `${song} <button>æ’­æ”¾</button>`;
        songList.appendChild(li);
      });
      addSongClickEvents();
    }

    // ======== æœå°‹åŠŸèƒ½ + é«˜äº® ========
    const searchBox = document.getElementById("searchBox");
    searchBox.addEventListener("input", () => {
      const keyword = searchBox.value.toLowerCase();
      Array.from(songList.getElementsByTagName("li")).forEach(song => {
        const text = song.textContent.replace("æ’­æ”¾", "").trim();
        song.innerHTML = `${text} <button>æ’­æ”¾</button>`; // é‡ç½®
        if (text.toLowerCase().includes(keyword)) {
          song.style.display = "list-item";
          if (keyword) {
            const regex = new RegExp(`(${keyword})`, "gi");
            song.innerHTML = text.replace(regex, "<span style='background:yellow;color:black;'>$1</span>") + " <button>æ’­æ”¾</button>";
          }
        } else {
          song.style.display = "none";
        }
      });
      addSongClickEvents();
    });

    // ======== é»æ“Šäº‹ä»¶ï¼ˆPDF + æ’­æ”¾ï¼‰ ========
    function addSongClickEvents() {
      const songs = Array.from(songList.getElementsByTagName("li"));
      songs.forEach(song => {
        const btn = song.querySelector("button");
        // é»æ“Šæ­Œæ›²åç¨± -> é–‹å•Ÿ PDF
        song.childNodes[0].addEventListener("click", () => {
          const pdfFile = song.getAttribute("data-pdf");
          if (pdfFile) window.open("songs-pdf/" + pdfFile, "_blank");
        });
        // æ’­æ”¾ MP3
        btn.addEventListener("click", (e) => {
          e.stopPropagation();
          const mp3File = song.getAttribute("data-mp3");
          if (currentPlaying === song) {
            audioPlayer.pause();
            btn.textContent = "æ’­æ”¾";
            currentPlaying = null;
          } else {
            audioPlayer.src = "songs-mp3/" + mp3File;
            audioPlayer.play();
            if (currentPlaying) currentPlaying.querySelector("button").textContent = "æ’­æ”¾";
            btn.textContent = "æš«åœ";
            currentPlaying = song;
          }
        });
      });
    }

    audioPlayer.addEventListener("ended", () => {
      if (currentPlaying) currentPlaying.querySelector("button").textContent = "æ’­æ”¾";
      currentPlaying = null;
    });

    // åˆå§‹åŒ–
    renderSongs();
  </script>
</body>
</html>
